<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Sequence Logo Visualization</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
        rel="stylesheet" type="text/css" />
    <!-- SimpleLightbox plugin CSS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="../static/styles.css" rel="stylesheet" />
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="#page-top">Start Sequence Logo</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto my-2 my-lg-0">
                    <li class="nav-item"><a class="nav-link" href="#about">Example</a></li>
                    <li class="nav-item"><a class="nav-link" href="#services">Demo</a></li>
                    <li class="nav-item"><a class="nav-link" href="#portfolio">Output</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead">
        <div class="container px-4 px-lg-5 h-100">
            <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center">
                <div class="col-lg-8 align-self-end">
                    <h1 class="text-white font-weight-bold">Sequence Logo Visualization</h1>
                    <hr class="divider" />
                </div>
                <div class="col-lg-8 align-self-baseline">
                    <p class="text-white-75 mb-5">You can implement it after referring to the example.</p>
                    <a class="btn btn-primary btn-xl" href="#about">Here is an example</a>
                </div>
            </div>
        </div>
    </header>
    <!-- About
        <section class="page-section bg-primary" id="about">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 text-center">
                        <h2 class="text-white mt-0">This is an example!</h2>
                        <hr class="divider divider-light" />
                        <p class="text-white-75 mb-4">Start Bootstrap has everything you need to get your new website up and running in no time! Choose one of our open source, free to download, and easy to use themes! No strings attached!</p>
                        <a class="btn btn-light btn-xl" href="#services">Get Started!</a>
                    </div>
                </div>
            </div>
        </section>
    -->
    <section class="page-section bg-primary" id="about">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 align-items-center">
                <div class="col-lg-12 text-center mt-4">
                    <h2 class="text-white mt-0">This is an example!</h2>
                    <br>
                </div>
                <div class="col-lg-6 text-center">
                    <h5 class="text-white mt-0">Input Sequences:</h5>
                    <p class="text-white-75 mb-4">GDLGAGKTT<br>
                        GDLGAGKTT<br>
                        GPLGAGKTS<br>
                        GDLGAGKTS<br>
                        GDLGAGKTT<br>
                        GDLGAGKTT<br>
                        GEVGSGKTT<br>
                        GELGAGKTT<br>
                        GDLGAGKTT<br>
                        GNLGAGKTT<br>
                        GELGAGKTT<br>
                        GTLGAGKTT<br>
                        GDLGAGKTT<br>
                        GDLGAGKTT<br>
                        GDLGAGKTT<br>
                        GDLGAGKTT<br>
                        GDLGAGKTT</p>
                </div>
                <div class="col-lg-6 text-center align-self-start">
                    <h5 class="text-white mt-0">Output Image:</h5><br>
                    <img src="../static/example.png" alt="Your Image" width="540" height="360" />
                </div>
                <div class="col-lg-12 text-center mt-4">
                    <a class="btn btn-light btn-xl" href="#services">Get Started!</a>
                </div>
            </div>
        </div>
    </section>






    <!-- Services scripts-->
    <section class="page-section" id="services">
        <div class="container px-4 px-lg-5">
            <h2 class="text-center mt-0">DEMO</h2>
            <hr class="divider" />
            <div class="row mt-5">
                <div class="col-lg-12 text-center">
                    <h5 class="text-center mt-0">Please input the sequence:</h5>
                    <textarea id="textarea_data" name="textarea_data" rows="6" cols="40" placeholder="GDLGAGKTT
GDLGAGKTT
GPLGAGKTS
GDLGAGKTS
GDLGAGKTT
GDLGAGKTT" required></textarea>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-lg-12 text-center">
                    <button id="downloadButton" class="btn btn-primary btn-xl">Submit</button>

                    <script>
                        document.getElementById("downloadButton").addEventListener("click", function () {
                            var textContent = document.getElementById("textarea_data").value;

                            var xhr = new XMLHttpRequest();
                            xhr.open('POST', '/download', true);
                            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                            xhr.onreadystatechange = function () {
                                if (xhr.readyState === 4 && xhr.status === 200) {
                                    window.location.href = "http://127.0.0.1:5000/#portfolio";
                                }
                            };
                            xhr.send('textarea_data=' + encodeURIComponent(textContent));
                        });
                    </script>
                </div>
            </div>
        </div>

    </section>


    <!-- Call to action-->
    <section class="page-section bg-dark text-white" id="portfolio">
        <div class="container px-4 px-lg-5 text-center">
            <h2 class="mb-4">This is your output image!</h2>
            <img src="../static/my_logo.png" alt="You are not do the demo yet" width="720" height="480"/>
            <script>
                var isFirstLoad = localStorage.getItem('isFirstLoad');
    
                if (!isFirstLoad) {
                    // 第一次載入，重新載入頁面
                    localStorage.setItem('isFirstLoad', 'true');
                    location.reload();
                } else {
                    // 已經載入過，清除標誌
                    localStorage.removeItem('isFirstLoad');
                }
            </script>
        </div>
    </section>
    
    <!-- Contact-->
    <section class="page-section" id="contact">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-lg-8 col-xl-6 text-center">
                    <h2 class="mt-0">Let's Get In Touch!</h2>
                    <hr class="divider" />
                    <p class="text-muted mb-5">Are there any questions? Send us a messages and we will get back to you
                        as soon as possible!</p>
                </div>
            </div>
            <div class="row gx-4 gx-lg-5 justify-content-center mb-5">
                <div class="col-lg-6">
                    <!-- * * * * * * * * * * * * * * *-->
                    <!-- * * SB Forms Contact Form * *-->
                    <!-- * * * * * * * * * * * * * * *-->
                    <!-- This form is pre-integrated with SB Forms.-->
                    <!-- To make this form functional, sign up at-->
                    <!-- https://startbootstrap.com/solution/contact-forms-->
                    <!-- to get an API token!-->
                    <form enctype="text/plain" accept-charset="utf-8">
                        <!-- 寄件者姓名    -->
                        <input id="nameText" type="text" name="Name" value size="60" placeholder="Name" required>
                        <!-- required 必填欄位 ，placeholder 預設內容-->
                        <br><br>
                        <!-- 寄件者email -->
                        <input id="emailText" type="email" name="Email" value size="60" placeholder="Email" required>
                        <br><br>
                        <!-- 寄件者電話 -->
                        <input id="telText" type="tel" name="Phone" value size="60" aria-invalid="false"
                            placeholder="Phone number" required>
                        <br><br>
                        <!-- 郵件主旨 -->
                        <input id="subText" type="text" name="Subject" value size="60" aria-invalid="false"
                            placeholder="Subject" required>
                        <br> <br>
                        <!-- 郵件內容 -->
                        <textarea id="bodyText" name="your-message" cols="40" rows="10" aria-required="true"
                            aria-invalid="false" placeholder="Your Message" required></textarea>
                        <br><br>
                        <!-- 傳送按鈕 -->
                        <div>
                            <!--<button id="downloadButton" class="btn btn-primary btn-xl">Submit</button>-->
                            <input type="button" class="btn btn-primary btn-xl" value="Submit"
                                onclick="submitHandler();">
                            <a id="mailTo"></a>

                        </div>
                    </form>
                    <script>
                        var initSubject = "", initBody = "";
                        function submitHandler() {
                            var to = "s1091443@mail.yzu.edu.tw";//寫死的傳送對象 就是公司的信箱 不會顯示在網頁上
                            var name = nameText.value;//讀取ID為 nameTextuser 物件中的值
                            var email = emailText.value;
                            var tel = telText.value;
                            var subject = subText.value;
                            var body = "" + bodyText.value + '%0A%0A%0A';//%0A是換行 換了三行
                            body += "From：" + nameText.value + '%0A';
                            body += "Email：" + emailText.value + '%0A';
                            body += "Tel：" + telText.value;
                            mailTo.href = "mailto:" + to + "?subject=" + subject + "&body=" + body;
                            mailTo.click();
                        }

                        function init() {
                            subText.value = initSubject;
                            toText.value = initTo;
                            bodyText.value = initBody;
                        }
                    </script>

                </div>
            </div>

        </div>
    </section>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SimpleLightbox plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
    <!-- Core theme JS-->
    <script src="../static/scripts.js"></script>
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <!-- * *                               SB Forms JS                               * *-->
    <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>

</html>